<div class="container">
	<div class="responsive">
		<div class="gallery">
			<a target="_blank" href="https://img.chooseacottage.co.uk/property/935/840/935665.jpg">
				<img src="https://img.chooseacottage.co.uk/property/935/840/935665.jpg" alt="Cinque Terre" width="600" height="400">
			</a>
		</div>
	</div>
	<div class="responsive">
		<div class="gallery">
			<a target="_blank" href="https://img.chooseacottage.co.uk/property/108/840/10876276.jpg">
				<img src="https://img.chooseacottage.co.uk/property/108/840/10876276.jpg" alt="Cinque Terre" width="600" height="400">
			</a>
		</div>
	</div>
	<div class="responsive">
		<div class="gallery">
			<a target="_blank" href="https://img.chooseacottage.co.uk/property/108/840/10876272.jpg">
				<img src="https://img.chooseacottage.co.uk/property/108/840/10876272.jpg" alt="Cinque Terre" width="600" height="400">
			</a>
		</div>
	</div>
	<div class="responsive">
		<div class="gallery">
			<a target="_blank" href="https://img.chooseacottage.co.uk/property/935/840/935669.jpg">
				<img src="https://img.chooseacottage.co.uk/property/935/840/935669.jpg" alt="Cinque Terre" width="600" height="400">
			</a>
		</div>
	</div>
	<div class="clearfix"></div>
	<div class="text-center">
		<h1 class="display-4">Welcome to Tuckenhay Mill - 1 Castle Cottage</h1>
		<h5 class="display-5">Bow Creek, between Dartmouth and Totnes, Devon | FCK</h5>
	</div>
	<div class="clearfix"></div>

	<div>
		<div>
			<a class="navbar-brand" id="chargePoints" href="#">ELECTRIC CHARGING POINTS NEARBY:</a>
		</div>

		<div id="contents"></div>
		<div id="map" class="map" />
	</div>
</div>

<script type="text/javascript">
		 function initMap() {
		 const location = { lat: 50.390392, lng: -3.665670 };
		   map = new google.maps.Map(document.getElementById("map"), {
				 center: location,
				 minZoom: 4,
				 maxZoom: 20,
				 zoom: 10,
				 panControl: false,
				 draggable: true,
				 navigationControl: false,
				 mapTypeControl: false,
				 scaleControl: false,
				 scrollwheel: false,
				 streetViewControl: false,
				 zoomControl: true,
				 mapTypeId: google.maps.MapTypeId.ROADMAP
			  });
			 addMarkerToMap(location.lat, location.lng, "https://www.bluechipholidays.co.uk/assets/pin-property-single.png?v=745ed4ed66696b93478cc2135a0f0ea1");
		 }

		 function addMarker(location, icon) {
			 marker = new google.maps.Marker({
				 position: location,
				 map: map,
				 icon: icon
			 });
		 }

		 function addMarkerToMap(lat, long, icon) {
				centralPark = new google.maps.LatLng(lat, long);
				addMarker(centralPark, icon);
		 }

		 var stations = [];
		 $(function () {
			 $("#chargePoints").click(function () {
				 $.ajax({
					 type: "GET",
					 url: "/Home/GetElecricChargingPoints",
					 success: function (response) {
						 stations = response;
						 $('#contents').html('');
						 for (let i = 0; i < response.length; i++) {
							  $('<a href="#" onclick="getStationDetails('+i+')">'+response[i].name+'</a><br/>').appendTo('#contents');
							 addMarkerToMap(response[i].latitude, response[i].longitude, "https://www.bluechipholidays.co.uk/assets/pin-food-med.png?v=aab8bac20d59f77a9e2252f0aba439db");
						 }
					 },
					 failure: function (response) {
						 alert(response.responseText);
					 },
					 error: function (response) {
						 alert(response.responseText);
					}
				 });
			 });
		 });

	function getStationDetails(id) {
		var stationContent = stations[id];
		var text = stationContent.name + '<br/> ' + stationContent.operatorName
		alert(text)
	}
</script>
